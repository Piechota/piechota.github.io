<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">        
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/resume.css">
        <title>Konrad Piechota</title>
    </head>
    <body style="background-color:rgb(29, 29, 29);">
        <div class="modal">
            <span class="close" onclick="closeModal()">&#215;</span>
            <img class="modal-content">
            <iframe class="modal-content" width="800" height="600" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <video class="modal-content" autoplay muted loop controls>
                <source type="video/mp4">
                Your browser does not support the video tag.
            </source></video>
            <a class="prev" onclick="plusModalSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusModalSlides(1)">&#10095;</a>
        </div>

        <div class="hello_section">
            Hello, my name is Konrad :)<br><br>
            I have been programming professionally for <span id="exp"></span> years and more as a hobby.<br>
            While in game industry I had opportunity to work on low-level cpu and gpu programming with focus on high performance.<br>
            As a tool and graphics programmer I worked closely with people from other disciplines, graphics and sound artists, localization team, UI programmers etc.<br>
            In my free time I play with electronic, reverse engineering challenges, 3D printing and game jams<br>
            <a href="mailto:%20konrad.piechota@outlook.com">konrad.piechota@outlook.com</a> / <a href="https://twitter.com/piechota_konrad">twitter</a> / <a href="doc/Konrad_Piechota_Resume.pdf">resume</a>
        </div>

        <div class="resume_section">
            <div class="resume_section_content">
                <h1>Experience:</h1>

                <div class="resume_section_element">
                    <b>2018-2021</b> Rendering engineer at Infinity Ward Poland<br>
                    <b>2015-2018</b> Graphics/Tool programmer at Flying Wild Hog<br>
                    <b>2014-2015</b> Game Programmer at Vescom Studios<br>
                </div>
            </div>
        </div>

        <div class="resume_section">
            <div class="resume_section_content">

                <h1>Commercial Projects:</h1>
                <div class="resume_section_element">
                    <h3>Call of Duty: Vanguard</h3>
                    <div class="description">
                        Entry into Call of Duty franchise, set in WW II.<br>
                        Made by Sledgehammer Games.<br>
                        I was the main architect behind raymarched clouds and I was coordinating a team of 4 people.<br>
                        Additionally I worked on SSS improvements.
                    </div>
                    <div class="media" id="Call_of_Duty_Vanguard">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/call_of_duty_vanguard.jpg">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/COD_Vanguard_-_Midway_7.png">                  
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/CoDV_0.jpg"> 
                        <iframe class="slide" height="100%" src="https://www.youtube.com/embed/m02izKBoL1g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> 
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>Call of Duty: Warzone</h3>
                    <div class="description">
                        Battle Royale mode set in Call of Duty universe.<br>
                        I implemented gas surrounding the shrinking play area, its visuals and correct integration with other fogs in engine.<br>
                    </div>
                    <div class="media" id="Call_of_Duty_Warzone">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/CoDW_logo.jpg">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/CoDW_0.jpg">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/CoDW_1.jpg">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>Call of Duty: Modern Warfare</h3>
                    <div class="description">
                        Reboot of classic series with the same title.<br>
                        My biggest contribution was improvement and optimization of volumetric lighting. That allowed us to enable it on all maps and still hit 60Hz.<br>
                        Additionally I added SDF compression to alpha tested textures, dithered transparency to clipping objects and helped with improvements to NVG.
                    </div>
                    <div class="media" id="Call_of_Duty_Modern_Warfare">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/COD-MW-LOGO-PLAIN.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/mw_volumetric.jpg">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/CoDMW_0.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/CoDMW_1.jpg">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>Shadow Warrior 2</h3>
                    <div class="description">      
                        Second part of reboot to classic game Shadow Warrior, made by Flying Wild Hog.<br>
                        Most of the project I was working on tools, rewrited curve editor, created marker-based profiling tool and in game objects animation tool.<br>
                        Towards the end of the project I transitioned to rendering team where I added hologram damage effect and later on improvements to particle system and analytical fog.<br>
                        Additionally I have created in game photo mode.
                    </div>
                    <div class="media" id="Shadow_Warrior_2">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/SW2_logo.webp">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/sw2_hologram.jpg">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/sw2_pm.jpg">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>           
                </div>

                <div class="resume_section_element">
                    <h3>Hard Reset: Redux</h3>
                    <div class="description">    
                        Remaster of Hard Reset from 2011.<br>
                        I helped with final polish, merging AO from original version with AO in new engine.
                    </div>
                    <div class="media" id="Hard_Reset_Redux">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/hrr_logo.jpg">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/hrr_screen.jpg">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>Pangrollin</h3>
                    <div class="description">    
                        Game made by Vescom Studios in Unity.<br>
                        Variation on pinball with zombies.<br>
                        I was working on blood draw optimization and prototype of some core mechanics.
                    </div>
                    <div class="media" id="Pangrollin">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/p0.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/p1.png">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>Distorted</h3>
                    <div class="description">    
                        Made by Vescom Studios in Unity.<br>
                        Horror game for mobile VR.<br>
                        I worked on first prototype.
                    </div>
                    <div class="media" id="Distorted">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/d0.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/d1.png">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>
            </div>
        </div>

        <div class="resume_section">
            <div class="resume_section_content">

                <h1>Other Projects:</h1>
                <div class="resume_section_element">
                    <h3>Bluetooth Car</h3>
                    <div class="description">   
                        Car controlled with app on phone via bluetooth.<br>                        
                        I have used atmega8 and HC-05 for bluetooth.<br>
                        Case 3D printed on Prusa MK3 with PLA.<br>
                        App in Java for android.
                    </div>
                    <div class="media" id="Bluetooth_Car">
                        <video class="slide" onclick="openModal(this.parentNode)" autoplay muted loop>
                                <source src="media/BT_video.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                        </source></video>
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/BT0.jpg">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/BT1.jpg">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>LazyKrzysztof</h3>
                    <div class="description">   
                        Device supposed to replace whiteboard for lighting artists.<br>
                        Using e-paper and ESP8266.<br>
                        Custom e-paper's refreshing LUTs.<br>                        
                        User needs to create a hotspot on their phone.<br>
                        Whole communication happens via a website hosted on ESP.<br>
                    </div>
                    <div class="media" id="LazyKrzysztof">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/LK0.JPG">
                        <video class="slide" onclick="openModal(this.parentNode)" autoplay muted loop>
                            <source src="media/LK_video.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </source></video>
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>RayTracing</h3>
                    <div class="description">    
                        Small raytracing in C++.<br>
                        Supports: volumetrics, BVH and multithreading.<br><br>
                        <a href="https://github.com/Piechota/rayTracing">Repo</a>
                    </div>
                    <div class="media" id="RayTracing">
                        <img class="slide" onclick="openModal(this.parentNode)" src="https://raw.githubusercontent.com/Piechota/rayTracing/master/images/cornell_box_smoke.png">
                    </div>
                </div>

                <div class="resume_section_element">
                    <h3>SandBox engine</h3>
                    <div class="description">    
                        Game Engine made in C++/DX12.<br>
                        Features: 
                        <ul>
                            <li>PBR</li>
                            <li>Area lights with Linearly Transformed Cosines</li>
                            <li>Tiled particle system</li>
                            <li>ECS</li>
                            <li>Sound system</li>
                        </ul>
                        <a href="https://github.com/Piechota/engine/tree/master">Repo</a>
                    </div>
                    <div class="media" id="SandBox_engine">
                        <img class="slide" onclick="openModal(this.parentNode)" src="https://raw.githubusercontent.com/Piechota/engine/master/images/ltc.png">
                    </div>
                </div>

                <div class="resume_section_element">
                    <h3>Software rasterizer</h3>
                    <div class="description">   
                        C++ software rasterization.<br>
                        Features: 
                        <ul>
                            <li>Mipmaps</li>
                            <li>Trilinear interpolation</li>
                        </ul>
                        <a href="https://bitbucket.org/piechota/rasterization/src/abab88ff0f3f26762e852458ce56ceea054f362e/rasterization/rasterization/rasterization/?at=master">Repo</a>
                    </div>
                    <div class="media" id="Software_rasterizer">
                        <video class="slide" onclick="openModal(this.parentNode)" autoplay muted loop>
                                <source src="media/rasterizer.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                        </source></video>
                    </div>
                </div>

                <div class="resume_section_element">
                    <h3>Your small world</h3>
                    <div class="description">   
                        Ludum Dare 38 - 48h<br>
                        Player needs to protect the generator by shooting enemies and building turrets.<br>
                        Game, 2D engine and all assets made during game jam by me. Using C++ and DX12.<br><br>
                        <a href="https://ldjam.com/events/ludum-dare/38/your-small-world">Project site</a><br>
                        <a href="https://github.com/Piechota/ludumdare38">Repo</a>                            
                    </div>
                    <div class="media" id="Your_small_world">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/SW_0.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/SW_1.png">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>The Hunt</h3>
                    <div class="description">   
                        Student project showcase, grand prix in technology. FPS game. Made with XNA.<br>
                        My responsibilities:
                        <ul>
                            <li>Implementation of  Physically Based Rendering.</li>
                            <li>Image Based Lighting with parallax corrected cubemap.</li>
                            <li>Post processes:
                                <ul>
                                    <li>Fog.</li>
                                    <li>Rain.</li>
                                    <li>Outline.</li>
                                </ul>   
                            </li>
                            <li>Optimization of shaders.</li>
                            <li>Animation system.</li>
                            <li>Drones behavior.</li>
                        </ul>
                    </div>
                    <div class="media" id="The_Hunt">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/TheHunt4.png">
                        <iframe class="slide" height="100%" src="https://www.youtube.com/embed/4QTSVYkagAs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/TheHunt0.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/TheHunt1.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/TheHunt2.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/TheHunt3.png">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>ShipIn5</h3>
                    <div class="description">   
                        Student project showcase, grand prix in design.<br>
                        Two players cooperate to safely deliver a package. Made with Unity3D.<br>
                        My responsibilities:
                        <ul>
                            <li>Implementation of alien behavior.</li>
                            <li>Implementation of enemy ships behavior.</li>
                            <li>External tool for managing events in game.</li>
                        </ul>
                    </div>
                    <div class="media" id="ShipIn5">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/Si5_0.png">
                        <iframe class="slide" height="100%" src="https://www.youtube.com/embed/3btCJCi3_Lg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/Si5_1.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/Si5_2.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/Si5_3.png">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>Lightleech</h3>
                    <div class="description">    
                        FPS game made in Unity for 7DFPS 2020.<br>
                        My main responsibility was rendering, custom lights, dense grass and custom sprites.<br>
                        Additionally worked on level design and gun system.<br><br>
                        <a href="https://spierek.itch.io/lightleech">Project Site</a>
                    </div>
                    <div class="media" id="Lightleech">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/LL0.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/LL1.gif">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/LL2.png">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>Lil' Justin's Fame Escape</h3>
                    <div class="description">  
                        Ludum Dare 40 - 72h GameJam.<br>
                        Players escape fans to get to the next concert. Made with Unity3D.<br>
                        My responsibilities:
                        <ul>
                            <li>Crowd behavior.</li>
                            <li>Crowd randomization.</li>
                            <li>Fans behavior.</li>
                            <li>Sound system.</li>
                        </ul>
                        <a href="https://ldjam.com/events/ludum-dare/40/lil-justins-fame-escape">Project site</a>
                    </div>
                    <div class="media" id="Lil_Justins_Fame_Escape">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/LD40_1.png">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/LD40_0.gif">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>Rocket Thruster</h3>
                    <div class="description"> 
                        Student project released on Google Play Store. Player controls the rocket to complete simple tasks. Made with Unity3D.<br>
                        My responsibilities:
                        <ul>
                            <li>Implementation of rocket control.</li>
                            <li>Implementation of hook behavior (grabbing objects and opening doors).</li>
                            <li>Implementation of enemy cannons behavior.</li>
                            <li>Implementation of cutscene.</li>
                            <li>Level design.</li>
                        </ul>
                    </div>
                    <div class="media" id="Rocket_Thruster">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/RT_0.webp">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/RT_1.webp">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/RT_2.webp">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/RT_3.webp">                        
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>Commit Racer</h3>
                    <div class="description">   
                        Ludum Dare 32 - 72h GameJam.<br>
                        Players have to destroy data blocks with drone. Support Kinect v2. Made with Unity3D.<br>
                        I was responsible for Kinect integration.
                    </div>
                    <div class="media" id="Commit_Racer">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/CR_0.jpg">
                        <iframe class="slide" height="100%" src="https://www.youtube.com/embed/JSC2zFcJOB8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/CR_1.jpg">
                        <img class="slide" onclick="openModal(this.parentNode)" src="media/CR_2.jpg">
                    <a class="prev" onclick="plusSlides(this.parentNode, -1)">&#10094;</a><a class="next" onclick="plusSlides(this.parentNode, 1)">&#10095;</a></div>
                </div>

                <div class="resume_section_element">
                    <h3>Spiritual Escape</h3>
                    <div class="description"> 
                        Entry to Techland Game Jam 2014 - 48h GameJam.<br>
                        Players resolve puzzles with help of Spirits that mimic their behavior. Made with Unity3D.<br>
                        My responsibilities:
                        <ul>
                            <li>Implementation of Spirits behavior.</li>
                            <li>Implementation of Spirits-object interaction.</li>
                            <li>Level design.</li>
                        </ul>
                    </div>
                    <div class="media" style="height:300px;">
                        <iframe class="slide" height="300px" src="https://www.youtube.com/embed/_1pr7Qm0kjM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                </div>
                
            </div>
        </div>

        <div class="resume_section">
            <div class="resume_section_content">
                <h1>Things I touched:</h1>
                <div class="resume_section_element">
                    <h3>Programming:</h3>
                        C/C++,  C#, Python, JavaScript, PHP, Shader Languages (glsl, hlsl)
                    <h3>Technologies:</h3>
                        Unity3D, DirectX12, Qt
                    <h3>Consoles:</h3>
                        PS4, Xbox One
                    <h3>Hardware-oriented development:</h3>
                        Arduino, Kinect v2, VR (Oculus Rift, Samsung Gear VR, Google Cardboard)
                </div>
            </div>
        </div>

        <div class="resume_section">
            <div class="resume_section_content">
                <h1>Languages:</h1>
                <div class="resume_section_element">
                    Polish (native), English
                </div>
            </div>
        </div>

        <div class="resume_section">
            <div class="resume_section_content">
                <h1>Education:</h1>
                <div class="resume_section_element">
                    BSc studies: Computer Science FTIMS &#321;&#243;d&#378; University of Technology, 
                <br>
                &#8195;Specialty I: Technologies of Computer Games and Simulations
                <br>
                &#8195;Specialty II: Technology and Graphics in Games
                </div>
            </div>
        </div>

        <div class="resume_section">
            <div class="hello_section">
                <a href="mailto:%20konrad.piechota@outlook.com">konrad.piechota@outlook.com</a> / <a href="https://twitter.com/piechota_konrad">twitter</a> / <a href="doc/Konrad_Piechota_Resume.pdf">resume</a>
            </div>
        </div>

        <script>
            const slideIndex = new Map();
            const slidesMap = new Map();
            function showSlides( media, slideID ) {
                var i;
                if (!slidesMap.has(media))
                {
                    var slides = media.getElementsByClassName("slide");
                    slidesMap.set(media, slides);
                }

                var slides = slidesMap.get(media);
                var tmpSlideIndex = slideID;
                if (slideID >= slides.length) {tmpSlideIndex = 0}
                if (slideID < 0) {tmpSlideIndex = slides.length-1}
                for (i = 0; i < slides.length; ++i) {
                    slides[i].style.display = "none";
                }
                slideIndex.set(media, tmpSlideIndex);
                slides[tmpSlideIndex].style.display = "block";
            }

            function registerMedia() {
                var media = document.getElementsByClassName("media");
                var mediaCount = media.length;
                for ( var i = 0; i < mediaCount; ++i ) {
                    slideIndex.set( media[i], 0);
                    showSlides( media[i], 0 );
                }
            }

            registerMedia();

            // Next/previous controls
            function plusSlides(media, n) {
                var id = slideIndex.get( media );
                id += n;
                showSlides(media, id);
            }

            var modalBackground = document.getElementsByClassName("modal")[0];
            var modalImg = modalBackground.getElementsByClassName("modal-content")[0];
            var modalIframe = modalBackground.getElementsByClassName("modal-content")[1];
            var modalVid = modalBackground.getElementsByClassName("modal-content")[2];
            var modalVidSrc = modalVid.getElementsByTagName("source")[0];
            var modalPrev = modalBackground.getElementsByClassName("prev")[0];
            var modalNext = modalBackground.getElementsByClassName("next")[0];

            var currentModalMedia = null;

            function modalShow(element) {
                modalImg.style.display = "none";
                modalIframe.style.display = "none";
                modalVid.style.display = "none";

                if ( element.nodeName == "IMG") {
                    modalImg.src = element.src;
                    modalImg.style.display = "block";
                
                    return;
                }
                
                if ( element.nodeName == "IFRAME") {
                    modalIframe.src = element.src;
                    modalIframe.style.display = "block";

                    return;
                }

                if ( element.nodeName == "VIDEO") {
                    modalVidSrc.src = element.getElementsByTagName("source")[0].src;
                    modalVid.style.display = "block";
                    modalVid.load();
                    modalVid.play();

                    return;
                }
            }

            var disableAnimationEvent = null;
            function disableAnimation() {
                modalImg.classList.add('notransition');
                modalIframe.classList.add('notransition');
                modalVid.classList.add('notransition');
                modalVidSrc.classList.add('notransition');
                clearTimeout(disableAnimationEvent);
            }

            function openModal(media) {
                modalBackground.style.display = "block";
                modalShow(slidesMap.get(media)[slideIndex.get(media)]);
                currentModalMedia = media;

                if ( slidesMap.get(currentModalMedia).length > 1 ) {
                    modalPrev.style.display = "block";
                    modalNext.style.display = "block";
                }
                else {
                    modalPrev.style.display = "none";
                    modalNext.style.display = "none";
                }   

                disableAnimationEvent = setInterval(disableAnimation, 600);
            }

            function closeModal() {
                modalBackground.style.display = "none";
                modalIframe.src = "";

                modalImg.classList.remove('notransition');
                modalIframe.classList.remove('notransition');
                modalVid.classList.remove('notransition');
                modalVidSrc.classList.remove('notransition');
            }

            function plusModalSlides(n) {
                plusSlides(currentModalMedia, n);
                modalShow(slidesMap.get(currentModalMedia)[slideIndex.get(currentModalMedia)]);
            }

            document.body.addEventListener('keydown', function(e) {
                if (e.key == "Escape") {
                    closeModal();
                    return;
                }

                if (modalBackground.style.display == "block") {
                    if ( e.key == "ArrowLeft" ) {
                        plusModalSlides(-1);
                        return;
                    }
                    if ( e.key == "ArrowRight" ) {
                        plusModalSlides(1);
                        return;
                    }
                }
            });

            function experience() {
                var today = new Date();
                var start = new Date(2014, 5, 1);
                var difference = today - start;
                return Math.floor(difference/(3.154e+10));
            }

            var expElement = document.getElementById("exp");
            expElement.innerHTML = experience();

        </script>
    </body>
</html>